<!-- /inventario/templates/nuevo_movimiento.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar Movimiento</title>
    <script>
        function toggleTrabajadorField() {
            var tipo = document.getElementById("tipo").value;
            var trabajadorField = document.getElementById("trabajadorField");
            if (tipo === "salida") {
                trabajadorField.style.display = "block";
            } else {
                trabajadorField.style.display = "none";
            }
        }
    </script>
</head>
<body>
    <h2>Registrar Movimiento</h2>
    <form method="POST">
        <select name="producto_id" required>
            <option value="">Seleccione un producto</option>
            {% for producto in productos %}
            <option value="{{ producto.id }}">{{ producto.nombre }}</option>
            {% endfor %}
        </select>
        
        <select name="tipo" id="tipo" onchange="toggleTrabajadorField()" required>
            <option value="entrada">Entrada</option>
            <option value="salida">Salida</option>
        </select>
        
        <div id="trabajadorField" style="display:none;">
            <input type="text" name="trabajador" placeholder="Nombre del Trabajador">
        </div>
        
        <input type="number" name="cantidad" placeholder="Cantidad" required>
        <button type="submit">Registrar Movimiento</button>
    </form>
</body>
</html>
